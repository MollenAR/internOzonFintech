


#Укорачиватель ссылок

Необходимо реализовать сервис, который должен предоставлять API по созданию сокращённых ссылок следующего формата:
- Ссылка должна быть уникальной и на один оригинальный URL должна ссылаться только одна сокращенная ссылка.
- Ссылка должна быть длинной 10 символов
- Ссылка должна состоять из символов латинского алфавита в нижнем и верхнем регистре, цифр и символа _ (подчеркивание)

Сервис должен быть написан на Go и принимать следующие запросы по http:
1. Метод Post, который будет сохранять оригинальный URL в базе и возвращать сокращённый
2. Метод Get, который будет принимать сокращённый URL и возвращать оригинальный URL

Решение должно быть предоставлено в «конечном виде», а именно:
- Сервис должен быть распространён в виде Docker-образа 
- В качестве хранилища ожидается использовать in-memory решение И postgresql. Какое хранилище использовать указывается параметром при запуске сервиса. 
- Покрыть реализованный функционал Unit-тестами

Результат предоставить в виде публичного репозитория на github.com

#Запуск сервиса
Для запуска используется docker-compose. Образы загружаются на Docker Hub при каждом обновлении ветки
main.\
**Перед запуском убедитесь что свободны порты 8080 для PostgreSQL и 8081 для Tarantool**
- Запуск с хранилищем PostgreSQL
```bash 
- sudo docker-compose --profile psql up -d
```
- Запуск с хранилищем Tarantool
```bash
sudo docker-compose --profile tarantool up -d
```

#API
##1. Метод генерации короткоого URL
```text
POST /save
```
###Тело запроса
```json
{ 
  "url": "string"
}
```
###Ответ
```json
{
  "status": 200,
  "shortUrl": "string"
}
```
###Возможные ошибки
- 422 - Неверное использование сервиса, проверьте тело запроса
- 422 - Оригинальный URL указан в неверном формате
- 500 - Возникла ошибка при обработке вашего запроса, попробуйте еще раз через несколько минут
```json
{
  "status": 404,
  "msg": "string"
}
```
##2. Метод получения изначального URL
```text
GET /get/{:short_url}
```
short_url - короткий url
###Ответ
```json
{
  "status": 200,
  "originalUrl": "string"
}
```
###Возможные ошибки
- 404 - Такого короткого URL не существует
- 500 - Возникла ошибка при обработке вашего запроса, попробуйте еще раз через несколько минут
```json
{
  "status": 404,
  "msg": "string"
}
```
#CURL
```bash
curl  -H 'Content-Type: application/json' --data '{"url":"ozon.ru"}' http://127.0.0.1:8080/save
curl http://127.0.0.1:8080/get/{короткий url}
```

